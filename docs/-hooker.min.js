"use strict";const $hook_prefix="_",$hook_key=$hook_prefix+"id";let $hook_id=0;Object.defineProperty(Function.prototype,$hook_key,{get:function(){return Object.defineProperty(this,$hook_key,{value:$hook_id++,writable:!1}),this[$hook_key]}});const $hook_={};function $hook(e,o,t){switch(arguments.length){case 1:o=e.id;case 2:if(!$hook_[o])return;for(const t of Object.values($hook_[o].hooks))for(const n of Object.values($hook_[o].triggers))t.call(n,e);return;default:$hook_[o]?($hook_[o].triggers[e[$hook_key]]=e,$hook_[o].hooks[t[$hook_key]]=t):$hook_[o]={triggers:{[e[$hook_key]]:e},hooks:{[t[$hook_key]]:t}};for(const t of Object.values($hook_[o].hooks))t.call(e)}}function $unhook(e,o,t){switch(arguments.length){case 2:t=e.id;case 3:return void delete $hook_[t].hooks[o[$hook_key]];default:delete $hook_[e.id]}}function $hook_once(e,o,t){const n=function(e){$unhook(this,n),t.call(this,e)};$hook(e,o,n)}function setEscapedHtml(e){e&&(this.innerHTML=("string"==typeof e?e:e.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))}function setEscapedUri(e){e&&(this.innerHTML=encodeURI("string"==typeof e?e:e.value))}function selectInner(e){if(document.selection)document.body.createTextRange().moveToElementText(e).select();else if(window.getSelection){const o=document.createRange();o.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}}function renderTemplate(templateHtml,v,trigger){trigger&&(v[trigger.id]=trigger.value||trigger.dataset.value,this.innerHTML=eval("`"+templateHtml.replace(/`/g,"\\`")+"`"))}const $hook_template_variable=/(\$)\({\.(.*?)}\)/g;function compileTemplate(e,o){const t=e.parentNode.parentNode;if(e.parentNode.remove(),!t)return;const n=t.innerHTML;if(!n)return;const r={};let c="";const i=n.split($hook_template_variable);let l="$"===i[0]&&i.length>0?0:2;for(let e of i)switch(l){case 0:l=1;continue;case 1:l=2,r[e]=o?o.hasOwnProperty(e)?o[e].replace("{0}",e):o.hasOwnProperty("_")?o._.replace("{0}",e):o.replace("{0}",e):e,c+="${v."+e+"}";continue;case 2:l=0,c+=e}renderTemplate.call(t,c,r,t);for(const e of Object.keys(r))$hook(t,e,renderTemplate.bind(t,c,r))}